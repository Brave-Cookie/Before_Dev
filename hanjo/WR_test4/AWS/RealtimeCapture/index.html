<!DOCTYPE html>
<html>

<head>
  <title>Realtime Capture</title>
  <link rel="stylesheet" href="css/main.css" />
</head>

<body>
  <h1>Realtime Capture</h1>

  <p>
    <video id="video" autoplay playsinline></video>
    <button onclick="capture()">Capture</button>
  </p>
  <canvas id="canvas" style="overflow:auto"></canvas>

  <script type="text/javascript">
    function capture() {
      var canvas = document.getElementById('canvas');
      var video = document.getElementById('video');
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      canvas.getContext('2d').drawImage(video, 0, 0, video.videoWidth, video.videoHeight);

      /** Code to merge image **/
      /** For instance, if I want to merge a play image on center of existing image **/
      const playImage = new Image();
      playImage.src = 'image/';
      playImage.onload = () => {
        const startX = (video.videoWidth / 2) - (playImage.width / 2);
        const startY = (video.videoHeight / 2) - (playImage.height / 2);

        canvas.getContext('2d').drawImage(playImage, startX, startY, playImage.width, playImage.videoHeight);
        canvas.toBlob() = (blob) => {
          const img = new Image();
          img.src = window.URL.createObjectUrl(blob);
        };
      };
      /** End **/
    }
  </script>
  <script src="js/main.js"></script>
</body>

</html>
